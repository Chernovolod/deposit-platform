(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[27],{1091:function(e,t,s){"use strict";s.r(t);var a=s(153),n=s(651),c=s(26),i=s.n(c),r=s(18),o=s(46),l=s(159),d=s(160),u=s(162),p=s(161),m=s(1),j=s.n(m),b=s(648),f=s(679),x=s(669),h=s(654),O=s(655),y=s(6),v=j.a.lazy((function(){return s.e(29).then(s.bind(null,1084))})),g=j.a.lazy((function(){return s.e(32).then(s.bind(null,1093))})),D=function(e){var t=e.createDepositHandler,s=e.specificModeData,a=e.setSpecificModeData,n=e.pageMode,c=e.setPageMode,i=e.closedDeposits,r=e.activeDeposits,o=e.isLoading,l=e.visible,d=e.setVisible,u=e.onChange,p=e.isCreatingOffer,m=Object(f.a)().t,j="default"===n,D="specific"===n,C={specific:function(){return Object(y.jsx)(g,{setPageMode:c,specificModeData:s})},default:function(){return Object(y.jsx)(v,{activeDeposits:r,closedDeposits:i,setSpecificModeData:a,setPageMode:c,setVisible:d})}},w=function(){t()};return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(x.a,{title:m("deposits.".concat(n,".title")),withPrimaryButton:j,primaryButtonLabel:m("deposits.primaryButtonLabel"),onPrimaryButtonClick:function(){return d(!0)}}),Object(y.jsxs)(b.h,{style:{"--cui-breadcrumb-divider":"'-'"},children:[!j&&Object(y.jsx)(b.i,{onClick:function(){return c("default")},children:m("deposits.default.title")}),D&&Object(y.jsx)(b.i,{active:D,children:m("deposits.specific.title")})]}),o?Object(y.jsx)(h.a,{classes:"mt-5"}):C[n](),Object(y.jsx)(b.O,{alignment:"center",visible:l,onDismiss:function(){return d(!1)},children:Object(y.jsxs)(b.Q,{className:"pb-4 px-3",children:[Object(y.jsx)(b.S,{onDismiss:function(){return d(!1)},children:Object(y.jsx)(b.T,{component:"h2",children:m("deposits.modal.title")})}),Object(y.jsx)(b.P,{className:"mb-7",children:Object(y.jsxs)(b.z,{children:[Object(y.jsxs)(b.X,{className:"m-0",children:[Object(y.jsxs)(b.p,{xs:4,xl:2,className:"amount-container px-0 me-md-3",children:[Object(y.jsx)(b.F,{component:"span",id:"percentage",children:m("requests.create.form.percentage")}),Object(y.jsx)(b.B,{"aria-describedby":"percentage",autoComplete:"off",type:"number",name:"percentage",id:"percentage",onChange:u})]}),Object(y.jsxs)(b.p,{xs:8,className:"ps-2 ps-md-0",xl:4,children:[Object(y.jsx)(b.F,{component:"span",id:"days",children:m("requests.create.form.days")}),Object(y.jsxs)(b.E,{name:"days",onChange:u,"aria-describedby":"days","aria-label":m("requests.create.form.days"),children:[Object(y.jsx)("option",{value:"90",children:m("requests.days.90")}),Object(y.jsx)("option",{value:"180",children:m("requests.days.180")}),Object(y.jsx)("option",{value:"365",children:m("requests.days.365")}),Object(y.jsx)("option",{value:"1095",children:m("requests.days.1095")})]})]}),Object(y.jsxs)(b.p,{className:"p-0 mt-3 mt-md-0",xs:12,xl:5,children:[Object(y.jsx)(b.F,{component:"span",id:"type",children:m("requests.create.form.type")}),Object(y.jsxs)(b.E,{name:"type",onChange:u,"aria-describedby":"type","aria-label":m("requests.create.form.type"),children:[Object(y.jsx)("option",{value:"IRREVOCABLE",children:m("Irrevocable")}),Object(y.jsx)("option",{value:"REVOCABLE",children:m("Revocable")})]})]})]}),Object(y.jsxs)(b.X,{className:"mt-3 mt-md-4",children:[Object(y.jsxs)(b.p,{className:"mt-3 mt-md-0",xs:12,xl:5,children:[Object(y.jsx)(b.F,{component:"span",id:"minAmount",children:m("requests.create.form.minimalAmount")}),Object(y.jsx)(b.B,{"aria-describedby":"minAmount",autoComplete:"off",type:"number",name:"minAmount",id:"minAmount",placeholder:"0",onChange:u})]}),Object(y.jsxs)(b.p,{className:"mt-3 mt-md-0",xs:12,xl:5,children:[Object(y.jsx)(b.F,{component:"span",id:"maxAmount",children:m("requests.create.form.maximumAmount")}),Object(y.jsx)(b.B,{"aria-describedby":"maxAmount",autoComplete:"off",type:"number",name:"maxAmount",id:"maxAmount",placeholder:"0",onChange:u})]}),Object(y.jsxs)(b.p,{className:"mt-3 mt-md-0",xl:2,children:[Object(y.jsx)(b.F,{component:"span",id:"currency",children:m("requests.create.form.currency")}),Object(y.jsxs)(b.E,{name:"currency",onChange:u,"aria-describedby":"currency","aria-label":m("requests.create.form.currency"),children:[Object(y.jsx)("option",{value:"BYN",children:m("BYN")}),Object(y.jsx)("option",{value:"USD",children:m("USD")}),Object(y.jsx)("option",{value:"EUR",children:m("EUR")}),Object(y.jsx)("option",{value:"RUB",children:m("RUB")})]})]})]})]})}),Object(y.jsx)(b.R,{className:"justify-content-start",children:Object(y.jsx)(b.j,{onClick:w,disabled:p,className:"text-white py-2 col-12 col-md-6",size:"sm",color:"primary",children:p?Object(y.jsx)(O.a,{classes:"text-white"}):m("deposits.modal.primaryButton")})})]})})]})},C=s(120),w=s(156),M=function(e){Object(u.a)(s,e);var t=Object(p.a)(s);function s(e){var c;return Object(l.a)(this,s),(c=t.call(this,e)).getDepositsHandler=Object(o.a)(i.a.mark((function e(){var t,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c.setState(Object(r.a)(Object(r.a)({},c.state),{},{isLoading:!0})),e.next=4,Object(C.m)("ACTIVE");case 4:return t=e.sent,e.next=7,Object(C.m)("CLOSED");case 7:s=e.sent,t.message||s.message||c.setState(Object(r.a)(Object(r.a)({},c.state),{},{activeDeposits:t,closedDeposits:s})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:return e.prev=14,c.setState(Object(r.a)(Object(r.a)({},c.state),{},{isLoading:!1})),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])}))),c.setPageMode=function(e){return c.setState({pageMode:e})},c.setSpecificModeData=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=c.state[t?"closedDeposits":"activeDeposits"].filter((function(t){return t.id===e})),a=Object(n.a)(s,1),i=a[0];c.setState({specificModeData:i})},c.setVisible=function(e){c.setState({visible:e})},c.onChangeNewOfferHandler=function(e){var t=e.target,s=t.name,n=t.value;c.setState({newDepositData:Object(r.a)(Object(r.a)({},c.state.newDepositData),{},Object(a.a)({},s,n))})},c.createDepositHandler=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c.setState({isCreatingOffer:!0}),e.next=4,Object(C.e)(c.state.newDepositData);case 4:if(e.sent.message){e.next=9;break}return c.setState({visible:!1}),e.next=9,c.getDepositsHandler();case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(0);case 13:return e.prev=13,c.setState({isCreatingOffer:!1}),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,11,13,16]])}))),c.state={isLoading:!1,isCreatingOffer:!1,visible:!1,pageMode:"default",activeDeposits:[],closedDeposits:[],specificModeData:{},newDepositData:{type:"IRREVOCABLE",percentage:0,currency:"BYN",days:90,minAmount:0,maxAmount:0}},c}return Object(d.a)(s,[{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDepositsHandler();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(o.a)(i.a.mark((function e(t,s,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.pageMode===this.state.pageMode||"default"!==this.state.pageMode){e.next=3;break}return e.next=3,this.getDepositsHandler();case 3:case"end":return e.stop()}}),e,this)})));return function(t,s,a){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.setState({pageMode:"default"})}},{key:"render",value:function(){var e=this.state,t=e.isCreatingOffer,s=e.closedDeposits,a=e.activeDeposits,n=e.pageMode,c=e.isLoading,i=e.specificModeData,o=e.visible,l=Object(r.a)({isCreatingOffer:t,createDepositHandler:this.createDepositHandler,onChange:this.onChangeNewOfferHandler,setVisible:this.setVisible,visible:o,specificModeData:i,setSpecificModeData:this.setSpecificModeData,isLoading:c,activeDeposits:a,closedDeposits:s,pageMode:n,setPageMode:this.setPageMode},this.props);return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(w.a,{children:Object(y.jsx)("title",{children:"\u0412\u043a\u043b\u0430\u0434\u044b | Deposit Platform"})}),Object(y.jsx)(D,Object(r.a)({},l))]})}}]),s}(m.Component);t.default=M},654:function(e,t,s){"use strict";s(1);var a=s(6),n=function(e){var t=e.classes;return Object(a.jsxs)("div",{className:"".concat(t||""," d-flex justify-content-center intermittent spinner-border text-primary mx-auto"),style:{width:"5em",height:"5em"},role:"status",children:[" ",Object(a.jsx)("span",{className:"sr-only"})]})};t.a=n},669:function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));s(1);var a=s(648),n=s(653),c=s.n(n),i=s(6),r=function(e){var t=e.title,s=e.withPrimaryButton,n=e.withSecondaryButton,r=e.primaryButtonLabel,o=e.secondaryButtonLabel,l=e.onPrimaryButtonClick,d=e.onSecondaryButtonClick;return Object(i.jsxs)(a.p,{xl:12,className:"mb-3 d-flex flex-column flex-md-row justify-content-between",children:[Object(i.jsx)("h2",{children:t}),Object(i.jsxs)(a.p,{className:"d-flex flex-wrap flex-md-nowrap justify-content-md-end",xs:12,md:6,children:[n&&Object(i.jsx)(a.j,{onClick:d,size:"sm",className:c()("mb-3 mb-md-0 col-12 col-md-6 py-2",{"me-0 me-md-3":s}),color:"primary",variant:"outline",children:o}),s&&Object(i.jsx)(a.j,{onClick:l,size:"sm",className:"text-white col-12 col-md-6 py-2",color:"primary",children:r})]})]})}}}]);
//# sourceMappingURL=27.c4b17a1e.chunk.js.map