(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[30],{1085:function(e,t,s){"use strict";s.r(t);var c=s(18),a=s(26),r=s.n(a),n=s(46),l=s(651),i=s(1),d=s(154),j=s(648),m=s(153),b=s(655),o=s(653),u=s.n(o),x=(s(654),s(163),s(679)),p=s(6),h=function(e){var t=e.isLoading,s=e.suggestRequestHandler,a=e.isNewRequestTab,r=e.isBankUserType,n=e.setSpecificModeData,d=e.specificModeData,o=e.activeRequests,h=(e.setPageMode,Object(x.a)().t),O=Object(i.useState)({}),f=Object(l.a)(O,2),y=f[0],N=f[1];Object(i.useEffect)((function(){r&&a&&N(Object(c.a)(Object(c.a)({},y),{},{days:d.days,type:d.type,percentage:d.percentage}))}),[d]);var g=Object(i.useState)(!1),q=Object(l.a)(g,2),v=q[0],k=q[1],w=function(e){var t=e.target.dataset.id;r&&a?(n(t,!0),k(!0)):n(t)},R=function(e){var t=e.target,s=t.name,a=t.value;N(Object(c.a)(Object(c.a)({},y),{},Object(m.a)({},s,a)))},M=Object(i.useRef)(),B=Object(i.useState)(0),F=Object(l.a)(B,2),D=F[0],C=F[1],E=function(){s(Object(c.a)(Object(c.a)({},y),{},{amount:d.amount,currency:d.currency,activeUntil:d.activeUntil,orderId:d.id})),C((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Object(p.jsxs)(j.eb,{title:h(t?"defaultErrorTitle":"congratulations"),autohide:!0,children:[Object(p.jsxs)(j.gb,{close:!0,children:[Object(p.jsx)("svg",{className:"rounded me-2",width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid slice",focusable:"false",role:"img",children:Object(p.jsx)("rect",{width:"100%",height:"100%",fill:t?"#EB5757":"#6FCF97"})}),Object(p.jsx)("strong",{className:"me-auto",children:h(t?"defaultErrorTitle":"congratulations")})]}),Object(p.jsx)(j.fb,{children:e||h("default400Error")})]})}(h("landing.bank.requests.success"),!1)})),k(!1)};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(j.M,{className:"employees mt-4",children:o.map((function(e,t){var s=e.id,c=e.percentage,n=e.amount,l=e.days,i=e.currency,d=e.type,m=e.offers,b=e.referralId,o=(e.alreadyOffered,e.revenue);return Object(p.jsx)(j.N,{className:u()("employees py-4 px-2 px-md-3",{"bg-primary text-white":r&&null!==b}),children:Object(p.jsxs)(j.X,{className:"m-0 align-items-stretch",children:[Object(p.jsxs)(j.p,{className:" mb-3 mb-md-0",xs:6,xl:2,children:[Object(p.jsx)("small",{className:r&&null!==b?"text-white":"text-muted",children:h("requests.create.form.amount")}),Object(p.jsx)("h6",{className:"m-0",children:"".concat(n," ").concat(i)})]}),Object(p.jsxs)(j.p,{className:" mb-3 mb-md-0 text-end text-md-start",xs:6,xl:2,children:[Object(p.jsx)("small",{className:r&&null!==b?"text-white":"text-muted",children:h("requests.create.form.percentage")}),Object(p.jsx)("span",{className:"d-block",children:"".concat(c," %")})]}),Object(p.jsxs)(j.p,{className:" mb-3 mb-md-0",xs:6,xl:2,children:[Object(p.jsx)("small",{className:r&&null!==b?"text-white":"text-muted",children:h("requests.create.form.days")}),Object(p.jsx)("span",{className:"d-block",children:h("requests.days.".concat(l))})]}),Object(p.jsxs)(j.p,{className:" mb-3 mb-md-0 text-end text-md-start",xs:6,xl:2,children:[Object(p.jsx)("small",{className:r&&null!==b?"text-white":"text-muted",children:h("requests.create.form.type")}),Object(p.jsx)("span",{className:"d-block",children:h("requests.".concat(d))})]}),a?Object(p.jsxs)(j.p,{xs:6,xl:2,children:[Object(p.jsx)("small",{className:r&&null!==b?"text-white":"text-muted",children:h(r?"requests.appliedRequests":"requests.offers")}),Object(p.jsx)("span",{className:"d-block",children:m})]}):Object(p.jsxs)(j.p,{xs:6,xl:2,children:[Object(p.jsx)("small",{className:r&&null!==b?"text-white":"text-muted",children:h(r?"requests.revenue":"requests.offers")}),Object(p.jsx)("span",{className:"d-block",children:r?"".concat(o," ").concat(i):m})]}),Object(p.jsx)(j.p,{xs:6,xl:2,className:"d-flex align-self-end align-self-md-center justify-content-end justify-content-md-start text-end text-md-start",children:Object(p.jsx)(j.L,{role:"button","data-id":s,onClick:w,className:u()({"text-white":r&&null!==b}),children:h(r&&a?"requests.modal.primaryButton":"deposits.actionDeposit.button")})})]})},s)}))}),Object(p.jsx)(j.hb,{ref:M,push:D,placement:"top-end"}),r&&function(e){var s=e.amount,c=e.currency,a=e.percentage,r=e.type,n=e.days;return Object(p.jsx)(j.O,{alignment:"center",visible:v,onDismiss:function(){return k(!1)},children:Object(p.jsxs)(j.Q,{className:"pb-4",children:[Object(p.jsx)(j.S,{className:"ps-4",onDismiss:function(){return k(!1)},children:Object(p.jsx)(j.T,{component:"h2",children:h("requests.bank.modal.title")})}),Object(p.jsxs)(j.P,{className:"p-0",children:[Object(p.jsxs)("div",{className:"p-4",style:{backgroundColor:"#FBFBFB",border:"1px solid #F2F2F2"},children:[Object(p.jsxs)(j.X,{className:"mb-3",children:[Object(p.jsxs)(j.p,{xl:4,children:[Object(p.jsx)("small",{className:"text-muted",children:h("requests.create.form.amount")}),Object(p.jsx)("h6",{className:"d-block",children:"".concat(s," ").concat(c)})]}),Object(p.jsxs)(j.p,{xl:4,children:[Object(p.jsx)("small",{className:"text-muted",children:h("requests.create.form.percentage")}),Object(p.jsxs)("span",{className:"d-block",children:[a," %"]})]}),Object(p.jsxs)(j.p,{xl:4,children:[Object(p.jsx)("small",{className:"text-muted",children:h("requests.create.form.days")}),Object(p.jsx)("span",{className:"d-block",children:h("requests.days.".concat(n))})]})]}),Object(p.jsx)(j.X,{children:Object(p.jsxs)(j.p,{xl:6,children:[Object(p.jsx)("small",{className:"text-muted",children:h("requests.create.form.type")}),Object(p.jsx)("span",{className:"d-block",children:h("requests.".concat(r))})]})})]}),Object(p.jsxs)(j.z,{className:"row mx-0 mt-4 px-4",children:[Object(p.jsxs)(j.p,{xl:2,className:"amount-container px-0 me-3",children:[Object(p.jsx)(j.F,{component:"span",id:"percentage",children:h("requests.create.form.percentage")}),Object(p.jsx)(j.B,{"aria-describedby":"percentage",autoComplete:"off",type:"number",name:"percentage",value:y.percentage,id:"percentage",onChange:R})]}),Object(p.jsxs)(j.p,{xl:4,children:[Object(p.jsx)(j.F,{component:"span",id:"days",children:h("requests.create.form.days")}),Object(p.jsxs)(j.E,{name:"days",onChange:R,value:y.days,"aria-describedby":"days","aria-label":h("requests.create.form.days"),children:[Object(p.jsx)("option",{value:"90",children:h("requests.days.90")}),Object(p.jsx)("option",{value:"180",children:h("requests.days.180")}),Object(p.jsx)("option",{value:"365",children:h("requests.days.365")}),Object(p.jsx)("option",{value:"1095",children:h("requests.days.1095")})]})]}),Object(p.jsxs)(j.p,{xl:5,children:[Object(p.jsx)(j.F,{component:"span",id:"type",children:h("requests.create.form.type")}),Object(p.jsxs)(j.E,{name:"type",value:y.type,onChange:R,"aria-describedby":"type","aria-label":h("requests.create.form.type"),children:[Object(p.jsx)("option",{value:"REVOCABLE",children:h("Revocable")}),Object(p.jsx)("option",{value:"IRREVOCABLE",children:h("Irrevocable")})]})]})]})]}),Object(p.jsx)(j.R,{className:"justify-content-start px-4 mt-5",children:Object(p.jsx)(j.j,{onClick:E,disabled:t||!y.percentage,className:"text-white",size:"sm",color:"primary",children:t?Object(p.jsx)(b.a,{classes:"text-white"}):h("requests.modal.primaryButton")})})]})})}(d)]})},O=function(e){var t=e.closedRequests,s=e.isBankUserType,c=Object(x.a)().t;return Object(p.jsx)(p.Fragment,{children:t.length?Object(p.jsx)(j.M,{className:"employees mt-4",children:t.map((function(e){var t=e.id,s=e.percentage,a=e.amount,r=e.days,n=e.currency,l=e.type,i=e.revenue;return Object(p.jsx)(j.N,{className:"employees py-4 px-2 px-md-3",children:Object(p.jsxs)(j.X,{className:"m-0 align-items-stretch justify-content-between",children:[Object(p.jsxs)(j.p,{className:"mb-3 mb-md-0",xs:6,xl:2,children:[Object(p.jsx)("small",{className:"text-muted",children:c("requests.create.form.amount")}),Object(p.jsx)("h6",{className:"m-0",children:"".concat(a," ").concat(n)})]}),Object(p.jsxs)(j.p,{className:"mb-3 mb-md-0 text-end text-md-start",xs:6,xl:2,children:[Object(p.jsx)("small",{className:"text-muted",children:c("requests.create.form.percentage")}),Object(p.jsx)("span",{className:"d-block",children:"".concat(s," %")})]}),Object(p.jsxs)(j.p,{className:"mb-3 mb-md-0",xs:6,xl:2,children:[Object(p.jsx)("small",{className:"text-muted",children:c("requests.create.form.days")}),Object(p.jsx)("span",{className:"d-block",children:c("requests.days.".concat(r))})]}),Object(p.jsxs)(j.p,{className:"mb-3 mb-md-0 text-end text-md-start",xs:6,xl:2,children:[Object(p.jsx)("small",{className:"text-muted",children:c("requests.create.form.type")}),Object(p.jsx)("span",{className:"d-block",children:c("requests.".concat(l))})]}),Object(p.jsxs)(j.p,{className:"mb-3 mb-md-0",xs:6,xl:2,children:[Object(p.jsx)("small",{className:"text-muted",children:"\u041f\u0440\u0438\u0431\u044b\u043b\u044c"}),Object(p.jsxs)("span",{className:"d-block",children:[i," ",n]})]})]})},t)}))}):Object(p.jsx)("h4",{className:"text-center mt-5",children:c(s?"requests.history.empty":"requests.business.history.empty")})})},f=s(5),y=[1,2,3],N=function(e){var t=e.tab,s=e.userType,a=e.specificModeData,r=e.setSpecificModeData,n=e.createdRequests,m=e.activeRequests,b=e.closedRequests,o=e.setPageMode,x=(e.toaster,e.t),N=(e.toast,Object(d.a)(e,["tab","userType","specificModeData","setSpecificModeData","createdRequests","activeRequests","closedRequests","setPageMode","toaster","t","toast"])),g=s===f.c.BANK,q=Object(i.useState)(t||(n.length?1:2)),v=Object(l.a)(q,2),k=v[0],w=v[1];return Object(i.useEffect)((function(){t&&w(t)}),[t]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(j.U,{variant:"tabs",children:y.map((function(e){if(1!==e||n.length)return Object(p.jsx)(j.V,{children:Object(p.jsx)(j.W,{className:"pe-auto",active:k===e,onClick:function(){return w(e)},children:x("requests.".concat(s,".default.").concat(e))})},e)}))}),Object(p.jsxs)(j.cb,{children:[1===k&&Object(p.jsx)(j.db,{visible:1===k,children:Object(p.jsx)(h,Object(c.a)(Object(c.a)({},N),{},{specificModeData:a,isNewRequestTab:!0,isBankUserType:g,setSpecificModeData:r,setPageMode:o,activeRequests:n}))}),2===k&&Object(p.jsx)(j.db,{className:u()({"d-flex justify-content-center align-items-center text-center":!m.length}),visible:2===k,children:m.length?Object(p.jsx)(h,{specificModeData:a,isBankUserType:g,setSpecificModeData:r,setPageMode:o,activeRequests:m}):Object(p.jsxs)(j.p,{style:{minHeight:"50vh"},xl:8,className:"h-50 d-flex flex-column justify-content-center align-items-center",children:[Object(p.jsx)("h4",{children:x("requests".concat(g?".bank":"",".default.1.emptyInfo"))}),!g&&Object(p.jsx)(j.j,{onClick:function(){return o("create")},size:"sm",color:"primary",className:"text-white mt-3 py-2",children:x("requests.primaryButtonLabel")})]})}),3===k&&Object(p.jsx)(j.db,{visible:3===k,children:Object(p.jsx)(O,{isBankUserType:!0,closedRequests:b})})]})]})},g=s(120),q=function(e){var t=Object.assign({},e),s=Object(x.a)().t,a=Object(i.useState)(!1),d=Object(l.a)(a,2),j=d[0],m=d[1],b=function(){var e=Object(n.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,Object(g.F)(t);case 4:e.sent,e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:return e.prev=9,m(!1),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[0,7,9,12]])})));return function(t){return e.apply(this,arguments)}}(),o=Object(c.a)({suggestRequestHandler:b,isLoading:j,t:s},t);return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(N,Object(c.a)({},o))})};t.default=q}}]);
//# sourceMappingURL=30.ae8e8cd3.chunk.js.map