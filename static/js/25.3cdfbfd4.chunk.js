(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[25],{1082:function(e,t,a){"use strict";a.r(t);var s=a(153),n=a(670),c=a(18),r=a(26),i=a.n(r),l=a(46),o=a(651),d=a(154),j=a(1),m=a(94),u=a(648),b=a(679),p=a(686),O=a(655),h=a(654),x=a(5),f=a(35),v=a(120),y=a(6),g={email:"",firstName:"",middleName:"",lastName:""},N=function(e){var t=e.runningId,a=e.isApprovalRunning,s=e.id,n=e.fields,r=e.t,i=e.email,l=e.isPendingCandidate,o=e.handleCandidateApproval,d=e.setButtonLabel;return Object(y.jsx)(u.N,{className:"employees py-2 py-md-4",children:Object(y.jsxs)(u.X,{className:"align-items-stretch",children:[Object(y.jsxs)(u.p,{className:"mb-3 mb-md-0",xl:6,children:[Object(y.jsx)("small",{className:"text-muted",children:r("fullName")}),Object(y.jsx)("h6",{className:"m-0",children:r("profile.employees.fullUserName",Object(c.a)({},n))})]}),Object(y.jsxs)(u.p,{xl:3,children:[Object(y.jsx)("small",{className:"text-muted",children:r("email.short")}),Object(y.jsx)("span",{className:"d-block",children:i})]}),Object(y.jsx)(u.p,{xl:3,className:"d-flex align-self-center justify-content-end",children:Object(y.jsx)(u.L,{role:"button",className:"text-end ".concat(l?"text-danger":"text-primary"),"data-id":s,"data-approved":!l,"data-email":i,onClick:o,children:a&&s===t?Object(y.jsx)(O.a,{}):d(l)},s)})]})},s)},w=function(e){var t=e.addToast,a=e.showErrorToast,n=e.employeesList,r=e.loadEmployeesList,d=e.isLoading,m=e.isApprovalRunning,w=e.handleCandidateApproval,D=e.runningId,C=Object(b.a)().t,L=function(e){return C(e?"delete":"approveRequest")},P=Object(j.useState)(g),k=Object(o.a)(P,2),F=k[0],B=k[1],S=Object(j.useState)(!1),U=Object(o.a)(S,2),E=U[0],I=U[1],R=Object(j.useState)(!0),T=Object(o.a)(R,2),A=T[0],z=T[1],V=function(){var e=Object(l.a)(i.a.mark((function e(){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(v.w)(F);case 3:(null===(s=e.sent)||void 0===s?void 0:s.token)&&(r(),M(),t((function(){return a(C("profile.employees.modal.success"),!1)}))),(null===s||void 0===s?void 0:s.message)&&t((function(){return a(s.message)})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t((function(){return a()}));case 11:return e.prev=11,e.finish(11);case 13:case"end":return e.stop()}}),e,null,[[0,8,11,13]])})));return function(){return e.apply(this,arguments)}}(),X=function(e){var t=e.target,a=t.name,n=t.value;B(Object(c.a)(Object(c.a)({},F),{},Object(s.a)({},a,n))),a&&n&&function(e,t){if("email"===e){var a=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase());z(!!a)}}(a,n)},M=function(){B(g),I(!1),z(!0)};return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(p.a,{title:C("profile.employees.subtitle"),buttonLabel:C("profile.employees.button"),onEdit:function(){return I(!0)},editable:!0}),(d||!d&&!n.length)&&Object(y.jsx)(u.k,{className:"mt-5",children:Object(y.jsxs)(u.l,{children:[d&&Object(y.jsx)(h.a,{}),!d&&!n.length&&Object(y.jsx)("p",{className:"text-center m-0",children:C("profile.employees.empty")})]})}),!d&&!!n.length&&Object(y.jsx)(u.M,{className:"employees",children:n.map((function(e){var t=e.id,a=e.fields,s=e.email,n=e.type!==x.b.BUSINESS_LINKING_CANDIDATE;return Object(y.jsx)(N,{runningId:D,id:t,isApprovalRunning:m,isPendingCandidate:n,fields:a,email:s,handleCandidateApproval:w,t:C,setButtonLabel:L})}))}),Object(y.jsx)(u.O,{alignment:"center",visible:E,onDismiss:M,children:Object(y.jsxs)(u.Q,{className:"pb-4 px-3",children:[Object(y.jsx)(u.S,{onDismiss:M,children:Object(y.jsx)(u.T,{component:"h2",children:C("profile.employees.modal.title")})}),Object(y.jsx)(u.P,{className:"mb-7",children:Object(y.jsxs)(u.z,{children:[Object(y.jsxs)(u.C,{children:[Object(y.jsx)(u.B,{value:F.email||"",autoComplete:"off",type:"text",name:"email",id:"email",onChange:X,placeholder:C("email"),invalid:!A,valid:Boolean(F.email&&A)}),Object(y.jsx)(u.D,{htmlFor:"email",children:C("email")})]}),Object(y.jsxs)(u.C,{children:[Object(y.jsx)(u.B,{value:F.lastName||"",autoComplete:"off",type:"text",name:"lastName",id:"lastName",placeholder:C("lastName"),onChange:X}),Object(y.jsx)(u.D,{htmlFor:"lastName",children:C("lastName")})]}),Object(y.jsxs)(u.C,{children:[Object(y.jsx)(u.B,{value:F.firstName||"",autoComplete:"off",type:"text",name:"firstName",id:"firstName",placeholder:C("firstName"),onChange:X}),Object(y.jsx)(u.D,{htmlFor:"firstName",children:C("firstName")})]}),Object(y.jsxs)(u.C,{children:[Object(y.jsx)(u.B,{value:F.middleName||"",autoComplete:"off",type:"text",name:"middleName",id:"middleName",placeholder:C("middleName"),onChange:X}),Object(y.jsx)(u.D,{htmlFor:"middleName",children:C("middleName")})]})]})}),Object(y.jsxs)(u.R,{className:"justify-content-start",children:[Object(y.jsx)(u.j,{onClick:V,disabled:!A||Object(f.b)(F)||d,className:"text-white py-2",size:"sm",color:"primary",children:d?Object(y.jsx)(O.a,{classes:"text-white"}):C("profile.employees.modal.button")}),Object(y.jsx)(u.j,{className:"mx-3 py-2",color:"primary",size:"sm",variant:"outline",onClick:M,children:C("cancel")})]})]})})]})},D=function(e){var t=e.data,a=e.isLoading,s=e.userInfo,n=e.handleContactDataUpdate,c=e.isContactDataUpdateRunning,r=e.onChange,i=Object(j.useState)(!1),l=Object(o.a)(i,2),d=l[0],m=l[1],x=Object(b.a)().t,f=function(e){return r("contactForm",e)},v="BANK_ADMIN"===s.type;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(p.a,{title:x("profile.contacts.subtitle"),editable:!0,onEdit:function(){return m(!d)}}),Object(y.jsx)(u.k,{children:Object(y.jsxs)(u.l,{className:"py-4",children:[a&&Object(y.jsx)(h.a,{}),!a&&Object(y.jsxs)(u.X,{children:[Object(y.jsxs)(u.p,{xs:12,md:3,className:"mb-3 mb-md-0",children:[Object(y.jsx)("small",{className:"text-muted",children:x("email")}),Object(y.jsx)("h6",{className:"m-0",children:null===s||void 0===s?void 0:s.email})]}),!v&&Object(y.jsxs)(u.p,{xs:12,md:3,className:"mb-3 mb-md-0",children:[Object(y.jsx)("small",{className:"text-muted",children:x("phoneNumber")}),Object(y.jsx)("span",{className:"d-block",children:s.phone?"+".concat(s.phone):""})]}),Object(y.jsxs)(u.p,{xs:12,md:3,children:[Object(y.jsx)("small",{className:"text-muted",children:x("yourName")}),Object(y.jsx)("h6",{className:"m-0",children:t.firstName})]})]})]})}),Object(y.jsx)(u.O,{alignment:"center",visible:d,children:Object(y.jsxs)(u.Q,{className:"pb-4 px-3",children:[Object(y.jsx)(u.S,{onDismiss:function(){return m(!1)},children:Object(y.jsx)(u.T,{component:"h2",children:x("edit.pending")})}),Object(y.jsxs)(u.P,{className:"mb-4",children:[Object(y.jsxs)(u.C,{children:[Object(y.jsx)(u.B,{value:t.email||"",disabled:c,autoComplete:"off",type:"email",name:"email",id:"email",placeholder:x("email"),onChange:f}),Object(y.jsx)(u.D,{htmlFor:"email",children:x("email")})]}),Object(y.jsxs)(u.p,{className:"mt-4 position-relative",xl:6,children:[Object(y.jsx)(u.F,{component:"span",id:"phone",children:x("phoneNumber")}),Object(y.jsxs)(u.F,{style:{fontSize:"1rem",bottom:"0.2rem"},className:"position-absolute start-0 pb-1",component:"span",id:"phone",children:["+ ",x("countryPhoneCode")]}),Object(y.jsx)(u.B,{value:(null===t||void 0===t?void 0:t.phone)||"",className:"ps-5",disabled:c,autoComplete:"off",type:"number",name:"phone",id:"phone",placeholder:"251112233",onChange:f})]}),Object(y.jsxs)(u.C,{className:"mt-4",children:[Object(y.jsx)(u.B,{value:t.lastName||"",disabled:c,autoComplete:"off",type:"text",name:"lastName",id:"lastName",placeholder:x("yourLastName"),onChange:f}),Object(y.jsx)(u.D,{htmlFor:"lastName",children:x("yourLastName")})]}),Object(y.jsxs)(u.C,{className:"mt-4",children:[Object(y.jsx)(u.B,{value:t.firstName||"",disabled:c,autoComplete:"off",type:"text",name:"firstName",id:"name",placeholder:x("yourName"),onChange:f}),Object(y.jsx)(u.D,{children:x("yourName")})]}),Object(y.jsxs)(u.C,{className:"mt-4",children:[Object(y.jsx)(u.B,{value:t.middleName||"",disabled:c,autoComplete:"off",type:"text",name:"middleName",id:"name",placeholder:x("yourMiddleName"),onChange:f}),Object(y.jsx)(u.D,{htmlFor:"email",children:x("yourMiddleName")})]})]}),Object(y.jsxs)(u.R,{className:"justify-content-start",children:[Object(y.jsx)(u.j,{disabled:c,className:"text-white py-2",size:"sm",color:"primary",onClick:n,children:c?Object(y.jsx)(O.a,{classes:"text-white"}):x("save")}),Object(y.jsx)(u.j,{className:"mx-3 py-2",color:"primary",size:"sm",variant:"outline",onClick:function(){return m(!1)},children:x("cancel")})]})]})})]})},C=a(163),L=a(653),P=a.n(L),k=function(e){var t=e.isLoading,a=e.getCompanyDataHandler,n=e.userType,r=e.isBankUserType,i=e.company,l=i.name,d=i.legalInfo,m=Object(b.a)().t,O=Object(j.useState)(!1),x=Object(o.a)(O,2),f=x[0],v=x[1],g=Object(j.useState)({unpNumber:""}),N=Object(o.a)(g,2),w=N[0],D=N[1],L=function(){a(w.unpNumber)},k=function(e){var t=e.target,a=t.name,n=t.value;D(Object(c.a)(Object(c.a)({},w),{},Object(s.a)({},a,n)))};return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(p.a,{title:d.unp||r?m("profile.".concat(n,".entity.subtitle")):m("profile.entity.UNP"),onEdit:function(){return v(!f)}}),Object(y.jsx)(u.k,{children:d.unp||r?Object(y.jsxs)(u.l,{className:"py-4",children:[t&&Object(y.jsx)(h.a,{}),!t&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(u.X,{className:"align-items-stretch",children:[Object(y.jsxs)(u.p,{xl:3,children:[Object(y.jsx)("small",{className:"text-muted",children:m("profile.".concat(n,".entity.name"))}),Object(y.jsx)("h6",{className:"m-0",children:l})]}),r&&Object(y.jsxs)(u.p,{xl:3,children:[Object(y.jsx)("small",{className:"text-muted",children:m("profile.entity.specialist")}),Object(y.jsx)("h6",{className:"m-0",children:"\u0417\u0430\u043c\u043e\u043a\u0430\u043d\u043d\u044b\u0439 \u0441\u043f\u0435\u0446"})]}),!r&&Object(y.jsxs)(u.p,{xl:3,children:[Object(y.jsx)("small",{className:"text-muted",children:m("profile.entity.UNP")}),Object(y.jsx)("span",{className:"d-block",children:d.unp})]}),!r&&Object(y.jsxs)(u.p,{xl:3,children:[Object(y.jsx)("small",{className:"text-muted",children:m("profile.entity.registerDate")}),Object(y.jsx)("span",{className:"d-block",children:d.registrationDate})]}),!r&&Object(y.jsxs)(u.p,{xl:3,children:[Object(y.jsx)("small",{className:"text-muted",children:m("profile.entity.authority")}),Object(y.jsx)("span",{className:"d-block",children:d.issuer})]})]}),!r&&Object(y.jsx)(u.X,{className:"my-4",children:Object(y.jsxs)(u.p,{xl:12,children:[Object(y.jsx)("small",{className:"text-muted",children:m("profile.entity.entityForm")}),Object(y.jsx)("h6",{className:"m-0",children:d.type})]})}),Object(y.jsx)(u.X,{className:P()({"mt-4":r}),children:Object(y.jsxs)(u.p,{xl:12,children:[Object(y.jsx)("small",{className:"text-muted",children:m("profile.".concat(n,".entity.address"))}),Object(y.jsx)("h6",{className:"m-0",children:d.address})]})})]})]}):Object(y.jsxs)(u.l,{className:"py-4",children:[t&&Object(y.jsx)(h.a,{}),!t&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(u.X,{className:"align-items-stretch",children:Object(y.jsx)("p",{children:m("profile.entity.checkUNPText")})}),Object(y.jsxs)(u.X,{className:"align-items-center m-0",children:[Object(y.jsxs)(u.p,{className:"p-0 me-md-3",md:3,xs:12,xl:2,children:[Object(y.jsx)(u.F,{component:"span",id:"UNP",children:m("UNP")}),Object(y.jsx)(u.B,{value:w.unp,autoComplete:"off",type:"number",name:"unpNumber",id:"UNP",placeholder:"10008858",onChange:k})]}),Object(y.jsx)(u.p,{className:"mt-4 mt-md-0 p-0 align-self-end",xl:3,md:9,xs:12,children:Object(y.jsx)(u.j,{onClick:L,disabled:t||Object(C.a)(w),className:"rounded-3 col-12 text-white mt-3 mt-md-0",children:m("verification.button")})})]})]})]})}),Object(y.jsx)(u.O,{alignment:"center",visible:f,onDismiss:function(){return v(!1)},children:Object(y.jsxs)(u.Q,{className:"pb-4 px-3",children:[Object(y.jsx)(u.S,{onDismiss:function(){return v(!1)},children:Object(y.jsx)(u.T,{component:"h2",children:m("edit.pending")})}),Object(y.jsx)(u.P,{className:"mb-7",children:Object(y.jsx)(u.z,{})}),Object(y.jsxs)(u.R,{className:"justify-content-start",children:[Object(y.jsx)(u.j,{className:"text-white py-2",size:"sm",color:"primary",children:m("save")}),Object(y.jsx)(u.j,{className:"mx-3 py-2",color:"primary",size:"sm",variant:"outline",onClick:function(){return v(!1)},children:m("cancel")})]})]})})]})},F=function(e){var t=e.cleanPasswordData,a=e.isSecurityUpdateLoading,s=e.isLoading,n=e.data,c=e.userInfo,r=e.handlePasswordUpdate,i=e.onChange,l=e.visible,o=e.setVisible,d=Object(b.a)().t,j=function(e){return i("updatePassword",e)};return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(p.a,{title:d("profile.security.subtitle"),editable:!0,onEdit:function(){return o(!l)}}),Object(y.jsx)(u.k,{children:Object(y.jsxs)(u.l,{className:"py-4",children:[s&&Object(y.jsx)(h.a,{}),!s&&Object(y.jsxs)(y.Fragment,{children:["UNVERIFIED"===c.status&&"BANK_ADMIN"!==c.type&&Object(y.jsx)("p",{children:d("profile.security.unverified.info")}),Object(y.jsxs)(u.X,{children:[Object(y.jsxs)(u.p,{xs:12,md:3,children:[Object(y.jsx)("small",{className:"text-muted",children:d("login")}),Object(y.jsx)("h6",{className:"m-0",children:null===c||void 0===c?void 0:c.email})]}),Object(y.jsxs)(u.p,{xs:12,md:3,className:"mt-3 mt-md-0",children:[Object(y.jsx)("small",{className:"text-muted",children:d("password")}),Object(y.jsx)("h6",{className:"m-0",children:"****************"})]})]})]})]})}),Object(y.jsx)(u.O,{alignment:"center",visible:l,children:Object(y.jsxs)(u.Q,{className:"pb-4 px-3",children:[Object(y.jsx)(u.S,{onDismiss:function(){t(),o(!1)},children:Object(y.jsx)(u.T,{component:"h2",children:d("edit.pending")})}),Object(y.jsx)(u.P,{className:"mb-7",children:Object(y.jsxs)(u.z,{children:[Object(y.jsxs)(u.C,{children:[Object(y.jsx)(u.B,{autoComplete:"off",type:"password",name:"oldPassword",id:"oldPassword",placeholder:d("oldPassword"),onChange:j,onPaste:j}),Object(y.jsx)(u.D,{htmlFor:"oldPassword",children:d("oldPassword")})]}),Object(y.jsxs)(u.C,{className:"mt-4",children:[Object(y.jsx)(u.B,{autoComplete:"off",type:"password",name:"newPassword",id:"newPassword",placeholder:d("newPassword"),onChange:j,onPaste:j}),Object(y.jsx)(u.D,{htmlFor:"newPassword",children:d("newPassword")})]}),n.newPassword&&n.repeatPassword&&n.newPassword!==n.repeatPassword&&Object(y.jsx)(u.F,{className:"text-danger",component:"span",children:d("profile.security.modal.errorLabel")}),Object(y.jsxs)(u.p,{className:"mt-2",xl:12,children:[Object(y.jsxs)(u.C,{children:[Object(y.jsx)(u.B,{autoComplete:"off",type:"password",name:"repeatPassword",id:"repeatPassword",placeholder:d("repeatPassword"),onChange:j,onPaste:j}),Object(y.jsx)(u.D,{htmlFor:"repeatPassword",children:d("repeatPassword")})]}),n.newPassword&&n.repeatPassword&&n.newPassword!==n.repeatPassword&&Object(y.jsx)(u.F,{className:"text-danger",component:"span",children:d("profile.security.modal.errorLabel")})]})]})}),Object(y.jsxs)(u.R,{className:"justify-content-start",children:[Object(y.jsx)(u.j,{disabled:!n.oldPassword||!n.newPassword||!n.repeatPassword||n.newPassword!==n.repeatPassword||a,onClick:r,className:"text-white py-2",size:"sm",color:"primary",children:a?Object(y.jsx)(O.a,{classes:"text-white"}):d("save")}),Object(y.jsx)(u.j,{className:"mx-3 py-2",color:"primary",size:"sm",variant:"outline",onClick:function(){t(),o(!1)},children:d("cancel")})]})]})})]})},B=a(667),S=a(1066),U={display:"flex",flexDirection:"row",flexWrap:"wrap"},E={display:"inline-flex",borderRadius:2,border:"1px solid #eaeaea",marginBottom:8,marginRight:8,width:100,height:100,padding:4,boxSizing:"border-box"},I={display:"flex",minWidth:0,overflow:"hidden"},R={display:"block",width:"auto",height:"100%"};var T=function(e){var t=e.handleUploadDocument,a=Object(b.a)().t,s=Object(j.useState)([]),n=Object(o.a)(s,2),r=n[0],d=(n[1],Object(S.a)({accept:"image/*",multiple:!1,onDrop:function(){var e=Object(l.a)(i.a.mark((function e(a){var s,n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=Object(o.a)(a,1),n=s[0],(c=new FormData).append("file",n,n.name),t(c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),m=d.getRootProps,p=d.getInputProps,O=r.map((function(e){return Object(y.jsx)("div",{style:E,children:Object(y.jsx)("div",{style:I,children:Object(y.jsx)("img",{src:e.preview,style:R})})},e.name)}));return Object(j.useEffect)((function(){return function(){r.forEach((function(e){return URL.revokeObjectURL(e.preview)}))}}),[r]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(u.j,{className:"mx-auto mx-md-0 mt-3 mt-md-0 d-block d-md-none text-white py-2 mb-3 mb-md-0",size:"sm",color:"primary",children:a("profile.documents.upload")}),Object(y.jsxs)("section",{className:"py-5 mt-3 d-none d-md-block",style:{border:"2px dashed #2F80ED",borderRadius:"5px"},children:[Object(y.jsxs)("div",Object(c.a)(Object(c.a)({},m({className:"d-flex dropzone flex-column flex-md-row align-items-center justify-content-center"})),{},{children:[Object(y.jsx)("input",Object(c.a)({},p())),Object(y.jsx)(u.j,{className:"text-white py-2 mb-3 mb-md-0",size:"sm",color:"primary",children:a("profile.documents.upload")}),Object(y.jsx)("p",{className:"text-muted text-center text-md-start ms-5 mb-0",children:a("profile.documents.info")})]})),Object(y.jsx)("aside",{style:U,className:P()({"mt-3":r.length}),children:O})]})]})},A=function(e){var t=e.isLoading,a=e.documentsList,s=e.deleteDocument,n=e.handleUploadDocument,c=Object(b.a)().t;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(p.a,{title:c("profile.documents.subtitle")}),Object(y.jsx)(u.k,{children:Object(y.jsx)(u.l,{children:Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("span",{className:"text-start",children:c("profile.documents.description")}),Object(y.jsx)(T,{handleUploadDocument:n}),Object(y.jsx)("h4",{className:"mt-5 mb-3",children:c("profile.documents.downLoadedFiles")}),t&&Object(y.jsx)(h.a,{}),!t&&Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(u.p,{className:"d-flex flex-wrap",children:a.length?a.map((function(e){return Object(y.jsxs)("div",{className:"me-3 mt-3",children:[Object(y.jsx)("img",{style:{objectFit:"cover"},className:"position-relative rounded-3",width:"100",height:"100",src:e.url}),Object(y.jsx)(u.j,{onClickCapture:s,"data-id":e.id,style:{zIndex:5,boxShadow:"none"},className:"bg-transparent position-absolute top-1 end-1 translate-middle m-0 border-0 rounded-circle p-0",children:Object(y.jsx)(B.a,{style:{pointerEvents:"none"},name:"cross",height:16})})]},e.id)})):Object(y.jsx)("span",{children:c("profile.documents.warning.text")})})})]})})})]})},z=a(72),V=a(669),X=function(e){var t=e.userContactDataProps,a=e.documentsPropsData,s=e.entityDataProps,n=e.employeesPropsData,r=e.securityDataProps,i=e.toaster,l=e.toast,o=e.user,d=e.verificationButtonHandler,j=Object(b.a)().t,p=Object(m.c)();return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(V.a,{title:j("VERIFIED"===o.status?"profile":"verification"),withSecondaryButton:!0,secondaryButtonLabel:j("logOut"),onSecondaryButtonClick:function(){return p(Object(z.c)())}}),"VERIFIED"!==o.status&&"BANK_ADMIN"!==o.type&&Object(y.jsxs)(u.X,{className:"align-items-center text-white rounded-3 bg-primary px-3 m-0 py-4",children:[Object(y.jsx)(u.p,{md:9,className:"p-0",children:Object(y.jsx)("h6",{className:"m-0",children:j("verificationProfileText")})}),Object(y.jsx)(u.j,{size:"sm",className:"rounded-3 col-12 col-md-3 btn-sm text-primary px-0 py-2 bg-white mt-3 mt-md-0",color:"primary",block:"true",onClick:d,children:j("verification.button")})]}),Object(y.jsx)(D,Object(c.a)({},t)),Object(y.jsx)(F,Object(c.a)({},r)),Object(y.jsx)(k,Object(c.a)({},s)),n.shouldDisplayComponent&&Object(y.jsx)(w,Object(c.a)({},n)),a.shouldDisplayComponent&&Object(y.jsx)(A,Object(c.a)({},a)),Object(y.jsx)(u.hb,{ref:i,push:l,placement:"top-end"})]})},M=a(156),H=Object(m.b)((function(e){var t=e.user,a=e.isBankUserType,s=e.isBusinessUserType;return{userType:t.type,user:t,isBankUserType:a,isBusinessUserType:s}}),null)((function(e){var t,a,r,m=e.user,p=e.isBankUserType,O=e.isBusinessUserType,h=Object(d.a)(e,["user","isBankUserType","isBusinessUserType"]),x=Object(b.a)().t,f=Object(j.useState)({isEmployeesListLoading:!1,isContactDataLoading:!1,isContactDataUpdateRunning:!1,isSecurityDataLoading:!1,isSecurityUpdateLoading:!1,isEntityDataLoading:!1,isDocumentsDataLoading:!1,isCandidateApprovalRunning:!1,isVerificationLoader:!0,runningId:""}),g=Object(o.a)(f,2),N=g[0],w=g[1],D=Object(j.useState)([]),C=Object(o.a)(D,2),L=C[0],P=C[1],k=Object(j.useState)([]),F=Object(o.a)(k,2),B=F[0],S=F[1],U=Object(j.useState)(!1),E=Object(o.a)(U,2),I=E[0],R=E[1],T=Object(j.useState)({company:{name:"",legalInfo:{unp:"",registrationDate:"",issuer:"",type:"",name:"",address:""}},fields:{firstName:"",lastName:"",middleName:""}}),A=Object(o.a)(T,2),z=A[0],V=A[1],H=Object(j.useState)({contactForm:{email:z.email||"",phone:z.phone||"",fields:{firstName:(null===z||void 0===z||null===(t=z.fields)||void 0===t?void 0:t.firstName)||"",lastName:(null===z||void 0===z||null===(a=z.fields)||void 0===a?void 0:a.lastName)||"",middleName:(null===z||void 0===z||null===(r=z.fields)||void 0===r?void 0:r.middleName)||""}},updatePassword:{oldPassword:"",newPassword:"",repeatPassword:""}}),_=Object(o.a)(H,2),K=_[0],Q=_[1],J=Object(j.useState)(0),q=Object(o.a)(J,2),G=q[0],W=q[1],Z=Object(j.useRef)();Object(j.useEffect)(Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Y();case 1:case"end":return e.stop()}}),e)}))),[h.userType]),Object(j.useEffect)(Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O){e.next=15;break}return e.prev=1,w(Object(c.a)(Object(c.a)({},N),{},{isDocumentsDataLoading:!0})),e.next=5,Object(v.n)();case 5:t=e.sent,S(Object(n.a)(t)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),W((function(){return ie()}));case 12:return e.prev=12,w(Object(c.a)(Object(c.a)({},N),{},{isDocumentsDataLoading:!1})),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])}))),[h.userType]),Object(j.useEffect)(Object(l.a)(i.a.mark((function e(){var t,a,s,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(Object(c.a)(Object(c.a)({},N),{},{isContactDataLoading:!0,isSecurityDataLoading:!0})),e.next=4,Object(v.u)();case 4:r=e.sent,V(Object(c.a)(Object(c.a)({},z),r)),Q(Object(c.a)(Object(c.a)({},K),{},{contactForm:Object(c.a)(Object(c.a)({},K.contactForm),{},{email:r.email||"",phone:(null===r||void 0===r||null===(t=r.phone)||void 0===t?void 0:t.substring(3))||"",firstName:(null===r||void 0===r||null===(a=r.fields)||void 0===a?void 0:a.firstName)||"",lastName:(null===r||void 0===r||null===(s=r.fields)||void 0===s?void 0:s.lastName)||"",middleName:(null===r||void 0===r||null===(n=r.fields)||void 0===n?void 0:n.middleName)||""})})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),W((function(){return ie()}));case 12:return e.prev=12,w(Object(c.a)(Object(c.a)({},N),{},{isContactDataLoading:!1,isSecurityDataLoading:!1})),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])}))),[]);var Y=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p){e.next=16;break}return e.prev=1,w(Object(c.a)(Object(c.a)({},N),{},{isEmployeesListLoading:!0})),e.next=5,Object(v.o)();case 5:t=e.sent,P(Object(n.a)(t)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),W((function(){return ie()}));case 13:return e.prev=13,w(Object(c.a)(Object(c.a)({},N),{},{isEmployeesListLoading:!1})),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,9,13,16]])})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(Object(c.a)(Object(c.a)({},N),{},{isVerificationLoader:!0})),e.next=4,Object(v.L)({});case 4:e.sent.wasCreated&&W((function(){return ie(x("verificationRequestSuccessfullySent"),!1)})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),w(Object(c.a)(Object(c.a)({},N),{},{isVerificationLoader:!1})),W((function(){return ie()}));case 12:return e.prev=12,w(Object(c.a)(Object(c.a)({},N),{},{isVerificationLoader:!1})),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,8,12,15]])})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(l.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(Object(c.a)(Object(c.a)({},N),{},{isEntityDataLoading:!0})),e.next=4,Object(v.j)(t);case 4:(a=e.sent).message&&W((function(){return ie(a.message)})),a.message||V(Object(c.a)(Object(c.a)({},z),{},{company:Object(c.a)(Object(c.a)({},z.company),{},{legalInfo:a})})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),W((function(){return ie()}));case 12:return e.prev=12,w(Object(c.a)(Object(c.a)({},N),{},{isEntityDataLoading:!1})),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(l.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(Object(c.a)(Object(c.a)({},N),{},{isContactDataUpdateRunning:!0})),delete(t=Object(c.a)({},K.contactForm)).fields,!t.email&&z.email&&(t.email=z.email),!t.phone&&z.phone&&(t.phone=z.phone),t.phone=x("countryPhoneCode")+t.phone,e.next=9,Object(v.H)(t);case 9:(a=e.sent).message||(V(Object(c.a)(Object(c.a)({},z),a)),W((function(){return ie(x("dataSuccessfullyUpdated"),!1)}))),a.message&&W((function(){return ie(a.message)})),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0),W((function(){return ie()}));case 18:return e.prev=18,w(Object(c.a)(Object(c.a)({},N),{},{isContactDataUpdateRunning:!1})),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[0,14,18,21]])})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,s,r,l,o,d,j,m;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.dataset,s=a.email,r=a.approved,l=a.id,e.prev=1,w(Object(c.a)(Object(c.a)({},N),{},{isCandidateApprovalRunning:!0,runningId:l})),o={email:s,approved:"true"===r},e.next=6,Object(v.G)(o);case 6:if(d=e.sent,!(j=d.message)){e.next=12;break}W((function(){return ie(j)})),e.next=27;break;case 12:return e.prev=12,w(Object(c.a)(Object(c.a)({},N),{},{isEmployeesListLoading:!0})),e.next=16,Object(v.o)();case 16:m=e.sent,P(Object(n.a)(m)),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(12),console.log(e.t0),W((function(){return ie()}));case 24:return e.prev=24,w(Object(c.a)(Object(c.a)({},N),{},{isEmployeesListLoading:!1})),e.finish(24);case 27:e.next=32;break;case 29:e.prev=29,e.t1=e.catch(1),W((function(){return ie()}));case 32:return e.prev=32,w(Object(c.a)(Object(c.a)({},N),{},{isCandidateApprovalRunning:!1})),e.finish(32);case 35:case"end":return e.stop()}}),e,null,[[1,29,32,35],[12,20,24,27]])})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(l.a)(i.a.mark((function e(){var t,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(Object(c.a)(Object(c.a)({},N),{},{isSecurityUpdateLoading:!0})),delete(t=Object(c.a)({},K.updatePassword)).repeatPassword,e.next=6,Object(v.I)(t);case 6:a=e.sent,(s=a.message)&&W((function(){return ie(s)})),s||(R(!1),W((function(){return ie(x("passwordSuccessfullyUpdated"),!1)}))),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),W((function(){return ie()}));case 15:return e.prev=15,w(Object(c.a)(Object(c.a)({},N),{},{isSecurityUpdateLoading:!1})),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,12,15,18]])})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.dataset.id,e.prev=1,w(Object(c.a)(Object(c.a)({},N),{},{isDocumentsDataLoading:!0})),e.next=5,Object(v.h)(a);case 5:s=B.filter((function(e){return e.id!==a})),S(s),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),W((function(){return ie()}));case 13:return e.prev=13,w(Object(c.a)(Object(c.a)({},N),{},{isDocumentsDataLoading:!1})),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,9,13,16]])})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,s,r,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(Object(c.a)(Object(c.a)({},N),{},{isDocumentsDataLoading:!0})),e.next=4,Object(v.J)(t);case 4:(a=e.sent).message&&W((function(){return ie(a.message)})),a.message||(s=Object(o.a)(a,1),r=s[0],l=[].concat(Object(n.a)(B),[r]),r&&S(l)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),W((function(){return ie()}));case 12:return e.prev=12,w(Object(c.a)(Object(c.a)({},N),{},{isDocumentsDataLoading:!1})),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(t){return e.apply(this,arguments)}}(),re=function(e,t){var a=t.target,n=a.name,r=a.value;Q(Object(c.a)(Object(c.a)({},K),{},Object(s.a)({},e,Object(c.a)(Object(c.a)({},K[e]),{},Object(s.a)({},n,r)))))},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Object(y.jsxs)(u.eb,{title:x(t?"defaultErrorTitle":"congratulations"),autohide:!0,children:[Object(y.jsxs)(u.gb,{close:!0,children:[Object(y.jsx)("svg",{className:"rounded me-2",width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid slice",focusable:"false",role:"img",children:Object(y.jsx)("rect",{width:"100%",height:"100%",fill:t?"#EB5757":"#6FCF97"})}),Object(y.jsx)("strong",{className:"me-auto",children:x(t?"defaultErrorTitle":"congratulations")})]}),Object(y.jsx)(u.fb,{children:e||x("default400Error")})]})},le={shouldDisplayComponent:!p&&"VERIFIED"===m.status,isLoading:N.isEmployeesListLoading,runningId:N.runningId,isApprovalRunning:N.isCandidateApprovalRunning,handleCandidateApproval:ae,employeesList:L,showErrorToast:ie,addToast:W,loadEmployeesList:Y},oe={data:K.contactForm,isLoading:N.isContactDataLoading,isContactDataUpdateRunning:N.isContactDataUpdateRunning,handleContactDataUpdate:te,onChange:re,userInfo:z},de={handlePasswordUpdate:se,isLoading:N.isSecurityDataLoading,isSecurityUpdateLoading:N.isSecurityUpdateLoading,data:K.updatePassword,setFormData:Q,cleanPasswordData:function(){Q(Object(c.a)(Object(c.a)({},K),{},{updatePassword:{oldPassword:"",newPassword:"",repeatPassword:""}}))},userInfo:z,onChange:re,visible:I,setVisible:R},je={company:null===z||void 0===z?void 0:z.company,userType:h.userType,isBankUserType:p,isLoading:N.isEntityDataLoading,getCompanyDataHandler:ee},me={shouldDisplayComponent:O,isLoading:N.isDocumentsDataLoading,deleteDocument:ne,documentsList:B,setDocumentsList:S,handleUploadDocument:ce},ue=Object(c.a)({user:m,entityDataProps:je,employeesPropsData:le,userContactDataProps:oe,securityDataProps:de,documentsPropsData:me,toaster:Z,toast:G,verificationButtonHandler:$},h);return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(M.a,{children:Object(y.jsx)("title",{children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c | Deposit Platform"})}),Object(y.jsx)(X,Object(c.a)({},ue))]})}));t.default=H},654:function(e,t,a){"use strict";a(1);var s=a(6),n=function(e){var t=e.classes;return Object(s.jsxs)("div",{className:"".concat(t||""," d-flex justify-content-center intermittent spinner-border text-primary mx-auto"),style:{width:"5em",height:"5em"},role:"status",children:[" ",Object(s.jsx)("span",{className:"sr-only"})]})};t.a=n},669:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));a(1);var s=a(648),n=a(653),c=a.n(n),r=a(6),i=function(e){var t=e.title,a=e.withPrimaryButton,n=e.withSecondaryButton,i=e.primaryButtonLabel,l=e.secondaryButtonLabel,o=e.onPrimaryButtonClick,d=e.onSecondaryButtonClick;return Object(r.jsxs)(s.p,{xl:12,className:"mb-3 d-flex flex-column flex-md-row justify-content-between",children:[Object(r.jsx)("h2",{children:t}),Object(r.jsxs)(s.p,{className:"d-flex flex-wrap flex-md-nowrap justify-content-md-end",xs:12,md:6,children:[n&&Object(r.jsx)(s.j,{onClick:d,size:"sm",className:c()("mb-3 mb-md-0 col-12 col-md-6 py-2",{"me-0 me-md-3":a}),color:"primary",variant:"outline",children:l}),a&&Object(r.jsx)(s.j,{onClick:o,size:"sm",className:"text-white col-12 col-md-6 py-2",color:"primary",children:i})]})]})}},686:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));a(1);var s=a(648),n=a(679),c=a(6),r=function(e){var t=e.title,a=e.editable,r=e.onEdit,i=e.buttonLabel,l=Object(n.a)().t;return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(s.p,{className:"mt-5 mb-3 d-flex justify-content-between align-items-stretch",children:[Object(c.jsx)("h4",{children:t}),a&&Object(c.jsx)(s.j,{onClick:r,color:"secondary",variant:"ghost",children:i||l("edit")})]})})}}}]);
//# sourceMappingURL=25.3cdfbfd4.chunk.js.map