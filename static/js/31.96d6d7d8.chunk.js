(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[31],{825:function(e,t,s){"use strict";s.r(t);var a=s(26),c=s.n(a),n=s(46),r=s(153),l=s(18),i=s(651),o=s(154),u=s(1),d=s(648),j=s(654),m=s(653),b=s.n(m),x=s(655),p=s(6),h=function(e){var t=e.isModalVisible,s=e.closeRequestModal,a=e.t,c=e.modalFormData,n=e.applyOfferHandler,r=e.currentSuggestion,l=r.minAmount,i=r.currency,o=r.id,u=e.isLoading,j=e.onModalChange,m=(e.onClick,e.valid);return Object(p.jsx)(d.O,{alignment:"center",visible:t,onDismiss:s,children:Object(p.jsxs)(d.Q,{className:"pb-4 px-3",children:[Object(p.jsx)(d.S,{onDismiss:s,children:Object(p.jsx)(d.T,{component:"h2",children:a("requests.modal.title.apply")})}),Object(p.jsx)(d.P,{className:"mb-7",children:Object(p.jsx)(d.z,{children:Object(p.jsx)(d.X,{className:"mt-4",children:Object(p.jsxs)(d.p,{xl:9,children:[Object(p.jsx)(d.F,{component:"span",id:"amount",children:"".concat(a("requests.modal.content.text")," ").concat(i)}),Object(p.jsx)(d.B,{valid:m,invalid:!m,"aria-describedby":"amount",autoComplete:"off",type:"number",min:l,name:"amount",id:"amount",value:c.amount,placeholder:l,onChange:j})]})})})}),Object(p.jsx)(d.R,{className:"justify-content-start",children:Object(p.jsx)(d.j,{onClick:function(){return n(c,o)},disabled:u||!m,className:"text-white py-2",size:"sm",color:"primary",children:u?Object(p.jsx)(x.a,{classes:"text-white"}):a("requests.modal.footer.button.send")})})]})})},O=function(e){var t=e.t,s=e.id,a=e.name,c=e.currency,n=e.percentage,r=e.days,l=e.type,i=e.minAmount,o=e.onClickHandler;return Object(p.jsx)(d.N,{className:"employees py-4 px-3",children:Object(p.jsxs)(d.X,{className:"m-0 align-items-stretch ",children:[Object(p.jsxs)(d.p,{className:"p-0 mb-3 mb-md-0",xs:6,xl:2,children:[Object(p.jsx)("small",{className:"text-muted",children:t("bank")}),Object(p.jsx)("h6",{className:"d-block",children:"".concat(a)})]}),Object(p.jsxs)(d.p,{className:"p-0 mb-3 mb-md-0 text-end text-md-start",xs:6,xl:2,children:[Object(p.jsx)("small",{className:"text-muted",children:t("requests.create.form.percentage")}),Object(p.jsx)("span",{className:"d-block",children:"".concat(n," %")})]}),Object(p.jsxs)(d.p,{className:"p-0 mb-3 mb-md-0",xs:6,xl:2,children:[Object(p.jsx)("small",{className:"text-muted",children:t("requests.create.form.days")}),Object(p.jsx)("span",{className:"d-block",children:t("requests.days.".concat(r))})]}),Object(p.jsxs)(d.p,{className:"p-0 mb-3 mb-md-0 text-end text-md-start",xs:6,xl:2,children:[Object(p.jsx)("small",{className:"text-muted",children:t("requests.create.form.type")}),Object(p.jsx)("span",{className:"d-block",children:t("requests.".concat(l))})]}),Object(p.jsxs)(d.p,{className:"p-0 mb-3 mb-md-0",xs:6,xl:2,children:[Object(p.jsx)("small",{className:"text-muted",children:t("requests.create.form.minimalAmount")}),Object(p.jsx)("span",{className:"m-0 d-block",children:"".concat(i," ").concat(c)})]}),Object(p.jsx)(d.p,{xs:6,xl:2,className:" p-0 d-flex align-self-center justify-content-end",children:Object(p.jsx)(d.L,{role:"button","data-id":s,onClick:o,className:"text-primary text-end text-md-start fw-bold",children:t("requests.bank.profitAbillity.SingleBankResponse.link")})})]})},s)},f=function(e){var t=e.suggestions,s=e.isLoading,a=e.amount,c=e.currency,n=e.percentage,r=e.days,i=e.sum,u=e.calculateProfit,m=e.onChange,x=e.isModalVisible,f=e.openRequestModal,g=e.valid,y=e.modalFormData,N=e.onModalChange,v=e.currentSuggestion,q=e.applyOfferHandler,k=e.closeRequestModal,M=e.toast,w=e.t,C=e.toaster;Object(o.a)(e,["suggestions","isLoading","amount","currency","percentage","days","sum","calculateProfit","onChange","isModalVisible","openRequestModal","valid","modalFormData","onModalChange","currentSuggestion","applyOfferHandler","closeRequestModal","toast","t","toaster"]);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(d.X,{xl:{col:2},children:[Object(p.jsx)(d.p,{xl:6,children:Object(p.jsx)(d.k,{children:Object(p.jsxs)(d.l,{className:"py-4 pe-3",children:[Object(p.jsxs)(d.z,{className:"row",children:[Object(p.jsxs)(d.p,{xs:8,xl:4,children:[Object(p.jsx)(d.F,{component:"span",id:"amount",children:w("requests.create.form.amount")}),Object(p.jsx)(d.B,{"aria-describedby":"amount",autoComplete:"off",type:"number",name:"amount",id:"amount",placeholder:"0",onChange:m})]}),Object(p.jsxs)(d.p,{xs:4,xl:2,children:[Object(p.jsx)(d.F,{component:"span",id:"currency",children:w("requests.create.form.currency")}),Object(p.jsxs)(d.E,{name:"currency",onChange:m,"aria-describedby":"currency","aria-label":w("requests.create.form.currency"),children:[Object(p.jsx)("option",{value:"BYN",children:w("BYN")}),Object(p.jsx)("option",{value:"USD",children:w("USD")}),Object(p.jsx)("option",{value:"EUR",children:w("EUR")}),Object(p.jsx)("option",{value:"RUB",children:w("RUB")})]})]}),Object(p.jsxs)(d.p,{xs:4,xl:2,className:"amount-container",children:[Object(p.jsx)(d.F,{component:"span",id:"percentage",children:w("requests.create.form.percentage")}),Object(p.jsx)(d.B,{"aria-describedby":"percentage",autoComplete:"off",type:"number",name:"percentage",id:"percentage",onChange:m})]}),Object(p.jsxs)(d.p,{xs:8,xl:4,children:[Object(p.jsx)(d.F,{component:"span",id:"days",children:w("requests.create.form.days")}),Object(p.jsxs)(d.E,{name:"days",onChange:m,"aria-describedby":"days","aria-label":w("requests.create.form.days"),children:[Object(p.jsx)("option",{value:"90",children:w("requests.bank.profitAbillity.form.select.1.days.90")}),Object(p.jsx)("option",{value:"180",children:w("requests.bank.profitAbillity.form.select.1.days.180")}),Object(p.jsx)("option",{value:"365",children:w("requests.bank.profitAbillity.form.select.1.days.365")}),Object(p.jsx)("option",{value:"1095",children:w("requests.bank.profitAbillity.form.select.1.days.1095")})]})]})]}),Object(p.jsx)(d.j,{onClick:u,size:"sm",color:"primary",className:"px-5 col-12 col-md-6 py-2 mt-5 text-white d-block ms-auto",children:w("requests.calculator.submit")})]})})}),Object(p.jsx)(d.p,{xl:6,children:Object(p.jsx)(d.k,{className:"h-100",children:Object(p.jsxs)(d.l,{className:b()("py-4 pe-5 d-flex flex-column",{"justify-content-center":s,"justify-content-between":!s}),children:[s&&Object(p.jsx)(j.a,{}),!s&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h6",{children:w("requests.calculator.result.title")}),Object(p.jsxs)(d.X,{className:"align-items-stretch m-0",children:[Object(p.jsxs)(d.p,{className:"p-0",xs:6,xl:4,children:[Object(p.jsx)("small",{className:"text-muted",children:w("requests.create.form.amount")}),Object(p.jsx)("span",{className:"d-block",children:"".concat(a," ").concat(c)})]}),Object(p.jsxs)(d.p,{className:"p-0",xs:6,xl:2,children:[Object(p.jsx)("small",{className:"text-muted",children:w("requests.create.form.percentage")}),Object(p.jsxs)("span",{className:"d-block",children:[n," %"]})]}),Object(p.jsxs)(d.p,{className:"p-0",xs:6,xl:3,children:[Object(p.jsx)("small",{className:"text-muted",children:w("requests.create.form.days")}),Object(p.jsx)("span",{className:"d-block",children:w("requests.days.".concat(r))})]}),Object(p.jsxs)(d.p,{className:"p-0",xs:6,xl:3,children:[Object(p.jsx)("small",{className:"text-muted",children:w("requests.create.form.accruals")}),Object(p.jsx)("span",{className:"d-block",children:"".concat(i," ").concat(c)})]})]}),Object(p.jsx)(d.X,{className:"m-0",children:Object(p.jsxs)(d.p,{className:"p-0",xs:12,xl:4,children:[Object(p.jsx)("small",{className:"text-muted",children:w("requests.create.form.totalAmount")}),Object(p.jsx)("h6",{className:"m-0",children:"".concat(Number(a)+Number(i)," ").concat(c)})]})})]})]})})})]}),t.length?Object(p.jsxs)(p.Fragment,{children:[s&&Object(p.jsx)(j.a,{classes:"mt-5"}),!s&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h2",{className:"mt-5",children:w("requests.calculator.offers.title")}),t.map((function(e){return Object(p.jsx)(O,Object(l.a)({onClickHandler:f,t:w},e))})),x&&Object(p.jsx)(h,{onModalChange:N,modalFormData:y,applyOfferHandler:q,t:w,valid:g,closeRequestModal:k,currentSuggestion:v,isModalVisible:x})]})]}):null,Object(p.jsx)(d.hb,{ref:C,push:M,placement:"top-end"})]})},g=s(679),y=s(120),N=s(72),v=s(94),q=s(685),k=Object(v.b)((function(e){return{isApprovalModalShown:e.isApprovalModalShown,user:e.user}}),(function(e){return{setVisible:function(t){return e(Object(N.e)(t))}}}))((function(e){var t=e.user,s=e.setVisible,a=(e.isApprovalModalShown,Object(o.a)(e,["user","setVisible","isApprovalModalShown"])),j=Object(g.a)().t,m=Object(u.useState)([]),b=Object(i.a)(m,2),x=b[0],h=b[1],O=Object(u.useState)(!1),N=Object(i.a)(O,2),v=N[0],k=N[1],M=Object(u.useRef)(),w=Object(u.useState)(0),C=Object(i.a)(w,2),S=C[0],A=C[1],F=Object(u.useState)(!1),R=Object(i.a)(F,2),B=R[0],D=R[1],E=Object(u.useState)({id:"",name:"",currency:"",percentage:"",minAmount:"",maxAmount:"",type:"",days:""}),V=Object(i.a)(E,2),H=V[0],U=V[1],I=Object(u.useState)(!0),L=Object(i.a)(I,2),X=L[0],Y=L[1],z=Object(u.useState)({amount:0,currency:"BYN",percentage:0,days:90,sum:0}),P=Object(i.a)(z,2),T=P[0],J=P[1],K=Object(u.useState)({amount:0,currency:"BYN",percentage:0,days:90}),Q=Object(i.a)(K,2),_=Q[0],G=Q[1],W=Object(u.useState)({amount:null}),Z=Object(i.a)(W,2),$=Z[0],ee=Z[1],te=function(){var e=Object(n.a)(c.a.mark((function e(){var a,n,r,l,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("BANK_ADMIN"===t.type||"VERIFIED"===t.status){e.next=3;break}return s(!0),e.abrupt("return");case 3:return e.prev=3,k(!0),a=_.amount,n=_.percentage,r=_.days,l=_.currency,i=Math.round(Number(a)*Number(n)*Number(r)/365/100),J({currency:l,amount:a,percentage:n,days:r,sum:i}),e.next=10,se();case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(3);case 14:return e.prev=14,k(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[3,12,14,17]])})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(n.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(y.k)();case 3:(t=e.sent).message||h(t),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:return e.prev=9,e.finish(9);case 11:case"end":return e.stop()}}),e,null,[[0,7,9,11]])})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(n.a)(c.a.mark((function e(t,s){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(y.a)(Object(l.a)(Object(l.a)({},t),{},{depositId:s}));case 3:e.sent.message?A((function(){return ce()})):A((function(){return ce("\u0417\u0430\u044f\u0432\u043a\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430!",!1)})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),A((function(){return ce()}));case 10:return e.prev=10,D(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})));return function(t,s){return e.apply(this,arguments)}}(),ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Object(p.jsxs)(d.eb,{title:j(t?"defaultErrorTitle":"congratulations"),autohide:!0,children:[Object(p.jsxs)(d.gb,{close:!0,children:[Object(p.jsx)("svg",{className:"rounded me-2",width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid slice",focusable:"false",role:"img",children:Object(p.jsx)("rect",{width:"100%",height:"100%",fill:t?"#EB5757":"#6FCF97"})}),Object(p.jsx)("strong",{className:"me-auto",children:j(t?"defaultErrorTitle":"congratulations")})]}),Object(p.jsx)(d.fb,{children:e||j("default400Error")})]})},ne=T.amount,re=T.percentage,le=T.days,ie=T.currency,oe=T.sum,ue=Object(l.a)({suggestions:x,isLoading:v,amount:ne,currency:ie,percentage:re,days:le,sum:oe,onChange:function(e){var t=e.target,s=t.name,a=t.value;G(Object(l.a)(Object(l.a)({},_),{},Object(r.a)({},s,a)))},calculateProfit:te,getSuggestions:se,isModalVisible:B,setIsModalVisible:D,openRequestModal:function(e){var t=e.target.dataset.id,s=x.filter((function(e){return e.id===t})),a=Object(i.a)(s,1)[0];ee({amount:a.minAmount}),U(a),D(!0)},modalFormData:$,valid:X,onModalChange:function(e){var t=e.target,s=t.name,a=t.value,c=H.minAmount,n=H.maxAmount;Number(a)<c&&Number(a)!==c||Number(a)>n&&Number(a)!==n?Y(!1):Y(!0),ee(Object(l.a)(Object(l.a)({},$),{},Object(r.a)({},s,a)))},currentSuggestion:H,applyOfferHandler:ae,t:j,toast:S,closeRequestModal:function(){D(!1),Y(!0)},toaster:M},a);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(q.a,{}),Object(p.jsx)(f,Object(l.a)({},ue))]})}));t.default=k}}]);
//# sourceMappingURL=31.96d6d7d8.chunk.js.map